<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChapterHub - Our Books</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav>
        <div class="logo">ChapterHub</div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="books.html">Books</a></li>
            <li><a href="login.html" class="cta-button">Login / Sign Up</a></li>
        </ul>
    </nav>

    <div class="library-header">
        <h1>Linux & DevOps Library</h1>
        <p>Master the command line, server administration, and cloud infrastructure.</p>
    </div>

    <div class="container">
        <h2 class="section-title">Our Library</h2>
        <div class="book-grid" id="book-display">
            </div>
    </div>

    <footer>
        <p>&copy; 2026 ChapterHub. Designed with ❤️ by Group 05.</p>
    </footer>

    <script>
        // පොත් 5 ක ලැයිස්තුව
        const books = [
            { title: "The Linux Command Line", author: "William Shotts", price: "$39.99", desc: "A complete introduction to the command line for beginners." },
            { title: "How Linux Works", author: "Brian Ward", price: "$44.95", desc: "What every superuser should know about the OS logic." },
            { title: "UNIX & Linux Admin Handbook", author: "Evi Nemeth", price: "$59.99", desc: "The definitive guide to system administration." },
            { title: "Linux Bible", author: "Christopher Negus", price: "$49.99", desc: "The comprehensive tutorial and reference for Linux." },
            { title: "Violent Python", author: "TJ O'Connor", price: "$34.99", desc: "A cookbook for hackers and forensic analysts." }
        ];

        function displayBooks() {
            const urlParams = new URLSearchParams(window.location.search);
            // Home page එකේ ඉදන් එන search අකුරු ගන්නවා
            const searchQuery = urlParams.get('search')?.toLowerCase() || "";
            const displayArea = document.getElementById('book-display');
            
            // සෙවූ අකුරු වලට ගැලපෙන පොත් පෙරීම (Filtering)
            const filtered = books.filter(b => 
                b.title.toLowerCase().includes(searchQuery) || 
                b.author.toLowerCase().includes(searchQuery)
            );

            // පොත් හමු වුණොත් ඒවා පෙන්වන්න
            if (filtered.length > 0) {
                displayArea.innerHTML = filtered.map(book => `
                    <div class="book-card">
                        <h3>${book.title}</h3>
                        <p class="author">By ${book.author}</p>
                        <p class="desc">${book.desc}</p>
                        <div class="price">${book.price}</div>
                        <button class="btn">Buy Now</button>
                    </div>
                `).join('');
            } 
            // කිසිදු පොතක් හමු නොවූයේ නම් පෙන්වන පණිවිඩය
            else {
                displayArea.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 50px; color: #ffcc00; background: #1a2238; border-radius: 15px; border: 1px dashed orange;">
                        <i class="fas fa-search-minus" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <h2 style="font-size: 22px;">Oops! No matching books found.</h2>
                        <p style="color: #fff; margin: 10px 0;">We couldn't find anything for "<strong>${searchQuery}</strong>".</p>
                        <button onclick="window.location.href='books.html'" style="background: orange; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 10px;">Show All Books</button>
                    </div>
                `;
            }
        }

        // පිටුව Load වූ විගස Function එක ක්‍රියාත්මක කරන්න
        window.onload = displayBooks;
    </script>
</body>
</html>
